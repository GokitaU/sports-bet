<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">


<head th:replace="fragments/header :: header">

</head>

<body id="page-top">

<nav th:replace="fragments/topbar :: topbar"></nav>

<div id="wrapper">

    <ul class="sidebar navbar-nav" th:include="fragments/sidebar :: sidebar"></ul>

    <div id="content-wrapper">


        <h1>User account details</h1>

        <div sec:authorize="isAnonymous()">
            <p th:text="${text}"></p>
            <a th:href="@{/home}">Home</a>
        </div>

        <div sec:authorize="isAuthenticated()">

            <table class="table">
                <tr>
                    <td>
                        <p sec:authorize="isAuthenticated()">
                        <p>Logged as <span sec:authentication="name"/></p>
                        <!--<p>User role: <span sec:authentication="authorities"></span></p>-->
                        </p>
                    </td>
                </tr>

                <tr>
                    <td>
                        <form th:action="@{/user-edit/{id} (id=${user.getId()})}" th:object="${user}" method="get">
                            <input type="submit" value="Edit"/>
                        </form>
                    </td>

                    <td>
                        <form th:action="@{/user-updatePassword}" method="get">
                            <input type="number" name="id" hidden th:value="${user.getId()}">
                            <input type="submit" value="Change Password"/>
                        </form>
                    </td>
                </tr>

            </table>


            <table class="table table-sm">
                <tr>
                    <td>
                        <!--<form th:action="@{/register}" th:object="${userDTO}" method="post"></br>-->


                        <table>
                            <tr>
                                <td> First Name:</td>
                                <td><p th:text="${user.firstName}"/></td>
                            </tr>

                            <tr>
                                <td> Last Name:</td>
                                <td><p th:text="${user.lastName}"/></td>
                            </tr>

                            <tr>
                                <td> Username</td>
                                <td><p th:text="${user.username}"/></td>
                            </tr>

                            <tr>
                                <td> e-mail</td>
                                <td><p th:text="${user.mail}"/></td>
                            </tr>

                            <tr>
                                <td> Street</td>
                                <td><p th:text="${user.street}"/></td>
                            </tr>

                            <tr>
                                <td> City</td>
                                <td><p th:text="${user.city}"/></td>
                            </tr>

                            <tr>
                                <td> Zip code</td>
                                <td><p th:text="${user.zip}"/></td>
                            </tr>

                            <tr>
                                <td> County</td>
                                <td><p th:text="${user.country.countryName}"></td>
                            </tr>


                            <!--<tr>-->
                            <!--<td> Bank Account</td>-->
                            <!--<td><input type="text" th:field="*{wallet.bankAccount}"></td>-->
                            <!--</tr>-->


                        </table>
                        <!--</form>-->
                    </td>
                </tr>


            </table>

        </div>

    </div>

    <div th:include="fragments/footer :: footer"></div>
</div>
</body>
</html>